{% extends 'layout.html' %}
{% block content %}
<h1>Compare Resorts</h1>
<p>Compare reports from Tahoe area resorts here.</p>
<div class="album py-5 bg-light">
<table class="table table-hover">
	<thead class="thead-dark">
		<tr>
			<td scope="col"><b>Resort</b></td>
			<td scope="col"><b>Date of Report</b></td>
			<td scope="col"><b>24 hour</b></td>
			<td scope="col"><b>48 hour</b></td>
			<td scope="col"><b>7 day</b></td>
			<td scope="col"><b>Snow Depth</b></td>
			<td scope="col"><b>Season Total</b></td>
			<td scope="col"><b>Open Acres</b></td>
			<td scope="col"><b>Lifts Open</b></td>
			<td scope="col"><b>% of Lifts Open</b></td>
		</tr>
	</thead>
	<tbody>	
		{% for resort in resorts['resorts'] %}
		<tr>
			<td><a href="/{{resort.name | lower}}">{{resort.name}}</a></td>
			<td>{{resort.latest_report.last_updated_date}}</td>
			<td>{{resort.latest_report.day}} {{resort.latest_report.units}}</td>
			<td>{{resort.latest_report.two_day}} {{resort.latest_report.units}}</td>
			<td>{{resort.latest_report.seven_day}} {{resort.latest_report.units}}</td>
			<td>{{resort.latest_report.snow_depth}} {{resort.latest_report.units}}</td>
			<td>{{resort.latest_report.season_total}} {{resort.latest_report.units}}</td>
			<td>{{resort.latest_report.open_acres}}</td>
			<td>{{resort.latest_report.lifts_open}}</td>
			<td>{{ ((resort.latest_report.lifts_open / resort.total_lifts) * 100) | round(1)}}%</td>
		</tr>
		{% endfor %}
	</tbody>
</table>
</div>
{% endblock content %}